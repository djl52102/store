# store
一个java原生servlet,jsp技术做的商城网站,主要用了三层架构,dao层用了jdbc连接数据库,c3p0连接池.前端用了jsp,html,js,ajax等技术,后台管理页面用的easyui
框架.
### 首页模块
  - header部分和foot部分进行了提取,通过jsp include技术引用实现复用
  - 前端页面除了index.jsp和login.jsp,其他页面都放在web-inf文件下,不能直接访问.需要通过servlet进行转发.
  - 导航条分类在页面加载完成后发送ajax请求,通过sevlet调用service查询分类表,并加入了redis进行缓存.第一次查询后会存入redis,以后都会从redis进行查询,
  减轻服务器
  压力.
  - web目录下的index.jsp页面只负责发送sevlet请求,sevlet接收请求后,会调用数据库查询最新和最热商品,并返回两个list集合,转发给前端index.jsp页面,进行展示.
### 用户模块
- 注册功能 点击注册按钮,进入注册页面.提交注册表单会将注册信息保存入数据库,如果成功,会给用户邮箱发送激活邮件,点击激活才能正常登陆.
- 登陆功能 登陆之前,会判断用户名,密码是否正确,用户名,密码正确,会判断用户是否激活,激活之后才可以正常登陆.登陆之后会将用户信息存入session,跳转到首页,显示欢迎xxx,并显示我的订单按钮.如果用户登录时勾选自动登录,会将用户信息存入cookie,用户再次访问会自动登录.
  
### 首页点击分类实现分页功能
- 在分类导航上添加点击事件,点击发送请求,携带参数pageNumber(当前页),pageSize一般固定.通过sevice调用dao查询数据库,实现分页.
- 添加商品详情页面,点击图片或者文字会进入商品详情页面
### 购物车功能
- 购物车模块涉及两个实体
   购物车 
    Cart
			Map<String,CartItem> items //多个购物项
			key就是商品的pid
			value就是购物项

			总金额

	购物项
		CartItem:
			
			商品信息
			购买数量
			小计
 在购物车对象分别涉及添加购物车,移除购物车和清楚购物车的方法.购物车模块是通过session实现的.
 ### 订单模块
  - 我的订单列表
    在前段页面上 如果处于登陆状态 点击我 的订单只需要带上 pageNumber=1,通过在session获取uid,将查询的分页信息转发前端页面进行展示
  - 订单详情展示
    订单列表页面 为订单编号添加超链接href="${ctx}/order?md=info&oid=?",通过oid查询订单信息进行展示
  - 在线支付
    1.在订单详情页面  提交收货人信息和选择的银行
	  2.orderServlet 接受请求更新订单信息再考虑 跳转第三方支付的事情
    3.第三方如果返回success,根据oid更改订单状态
    

